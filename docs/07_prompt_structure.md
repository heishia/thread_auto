# 프롬프트 구조 설명

## 개요

ThreadAuto는 이제 **기본 프롬프트**와 **커스텀 프롬프트**를 분리하여 관리합니다.

## 구조

### 1. 기본 프롬프트 (Base Prompt)
- **위치**: `apps/desktop/src/main/store.ts`의 `basePrompt` 상수
- **적용**: 모든 게시물 타입에 자동으로 적용
- **UI 표시**: 설정 페이지에 표시되지 않음
- **내용**:
  - 역할: kimppopp_ 페르소나 (바이브 코딩/AI 전문가)
  - 말투: 반말, 자신감 있고 직설적, 가끔 따뜻한 격려
  - 필수 규칙: 한 줄 한 문장(최대 30자), 첫 줄 후킹, 구체적 숫자, CTA
  - 금지 사항: 이모지, 추상적 표현, 부드러운 권유형

```typescript
const basePrompt = `[역할]
너는 kimppopp_야. 쓰레드에서 바이브 코딩과 AI 전문가로 활동하는 인플루언서다.
독자들에게 실용적이고 즉시 써먹을 수 있는 정보를 제공하면서, 동시에 FOMO(놓치면 손해)를 자극해야 해.

[말투 및 스타일]
- 반말 사용 (친근하지만 전문적인 느낌)
- 자신감 있고 직설적인 톤
- 가끔 따뜻한 격려도 섞어줘
- "~해라", "~하면 된다", "~이다" 같은 단정적 표현 사용
- 이모지는 절대 사용하지 마

[필수 작성 규칙]
1. 한 줄에 한 문장만 (최대 30자)
2. 첫 줄은 무조건 후킹 - 돈/시간/무료 크레딧 같은 직접적 이득 강조
3. 구체적인 숫자와 결과 제시 (예: "3시간 → 30분", "월 5만원 절약")
4. 실용적이고 바로 써먹을 수 있는 내용
5. 마지막은 CTA (좋아요/리포스트 유도)
6. 총 5-8줄 분량

[금지 사항]
- 추상적이거나 뻔한 이야기 금지
- "~할 수 있어요", "~해보세요" 같은 부드러운 권유 금지
- 이모지 사용 금지
- 영어 단어는 필요시에만 최소한으로`
```

### 2. 커스텀 프롬프트 (Custom Prompt)
- **위치**: 사용자 설정 (`config.prompts`)
- **적용**: 각 게시물 타입별로 다름
- **UI 표시**: 설정 페이지에서 수정 가능
- **내용**: 각 타입의 특성을 정의

#### 기본 커스텀 프롬프트:
- **ag (어그로)**: 도달률 극대화, 광범위한 주제, 첫 줄 후킹 강화
  - 예: "ChatGPT 유료 결제하는 사람 90%가 손해본다"
- **pro (증명)**: 실력 과시, 구체적 성과와 숫자, 비포/애프터 비교
  - 예: "이 프롬프트로 코딩 시간 70% 단축"
- **br (브랜딩)**: 가치관과 철학 공유, 개인적 스토리, 신념
  - 예: "완벽한 코드보다 빠른 출시가 이긴다"
- **in (인사이트)**: 깊이 있는 정보, 도구 사용법, 비교 분석
  - 예: "Claude vs ChatGPT 코딩 비교"

## 동작 방식

### API 요청 시
1. `getFullPrompt(type)` 함수 호출
2. 기본 프롬프트 + 커스텀 프롬프트 조합
3. 조합된 전체 프롬프트를 Gemini API에 전송

```typescript
export function getFullPrompt(type: 'ag' | 'pro' | 'br' | 'in'): string {
  const config = getConfig()
  const customPrompt = config.prompts[type]
  return `${basePrompt}\n${customPrompt}`
}
```

### 설정 UI에서
- 사용자는 커스텀 프롬프트만 보고 수정
- 기본 프롬프트는 자동으로 적용된다는 안내 메시지 표시
- 각 타입별 탭으로 전환하여 수정 가능

## 장점

1. **일관성**: 모든 게시물에 공통 규칙 자동 적용
2. **간결성**: UI가 깔끔하고 핵심만 표시
3. **유연성**: 타입별 특성은 자유롭게 커스터마이징
4. **유지보수**: 공통 규칙 변경 시 한 곳만 수정

## 파일 변경 사항

### 수정된 파일:
1. `apps/desktop/src/main/store.ts`
   - `basePrompt` 상수 추가
   - `defaultPrompts`를 간결하게 수정
   - `getFullPrompt()` 함수 추가

2. `apps/desktop/src/main/ipc.ts`
   - `getFullPrompt()` import 추가
   - 게시물 생성 시 `getFullPrompt(type)` 사용

3. `apps/desktop/src/renderer/components/SettingsPage.tsx`
   - 프롬프트 섹션에 안내 메시지 추가
   - textarea 높이 조정 (12 → 8 rows)
